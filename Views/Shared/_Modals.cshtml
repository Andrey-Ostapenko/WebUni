@using livemenu.Common.Entities
@using livemenu.Kernel.Authentication
@using livemenu.Kernel.Catalog
@using livemenu.Kernel.Settings
@using Microsoft.Practices.ServiceLocation

<div class="modal fade slide-up disable-scroll" id="fm-modal" tabindex="-1" role="dialog" aria-hidden="false">
    <div class="modal-dialog modal-lg">
        <div class="modal-content-wrapper">
            <div class="modal-content">
                <div class="modal-header clearfix text-left">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        <i class="pg-close fs-14"></i>
                    </button>
                    <h5>Менеджер <span class="semi-bold">файлов 2.0</span></h5>
                    <p class="p-b-10">Пожалуйста, выберите файл</p>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="" id="fm-container">
                            </div>
                        </div>

                    </div>
                    <div class="row">
                        <div class="col-sm-8">

                        </div>
                        <div class="col-sm-4  m-t-10">
                            <button type="button" id="fm-ok-btn" onclick="fmSelectedCallback(fmSender,fmSelectedFile); $('#fm-modal').modal('hide');" class="btn btn-primary btn-block">Выбрать</button>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade slide-up disable-scroll" data-link-url="@Url.Action(MVC.CMS.Catalog.LinkCatalogItem())" data-url="@Url.Action(MVC.CMS.CatalogItemSelector.CatalogItemSelectorGridViewPartial())" id="ciSelector-modal" tabindex="-1" role="dialog" aria-hidden="false">
    <div class="modal-dialog modal-lg">
        <div class="modal-content-wrapper">
            <div class="modal-content">
                <div class="modal-header clearfix text-left">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        <i class="pg-close fs-14"></i>
                    </button>
                    <h5>Поиск элементов</h5>

                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="" id="ciSelector-container">
                            </div>
                        </div>

                    </div>
                    <div class="row">
                        <div class="col-sm-8">

                        </div>
                        <div class="col-sm-4  m-t-10">
                            <button type="button" onclick="catalogItemSelectorSelect(); $('#ciSelector-modal').modal('hide');" class="btn btn-primary btn-block">Выбрать</button>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade slide-right" id="catalogMassOperationsModal" data-change-activity-url="@Url.Action(MVC.CMS.Catalog.ChangeActivity())" data-delete-url="@Url.Action(MVC.CMS.Catalog.CascadeDeleteCatalogItems())" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content-wrapper">
            <div class="modal-content">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                    <i class="pg-close fs-14"></i>
                </button>
                <div class="container-xs-height full-height">
                    <div class="row-xs-height">
                        <div class="modal-body col-xs-height col-middle text-center   ">
                            <h5 class="text-primary ">Выберите желаемое действие для выбранных (галочками) элементов</h5>
                            <br>
                            <button type="button" class="btn btn-danger btn-block" onclick="catalogMassOpDelete(); $('#catalogMassOperationsModal').modal('hide');">Удалить</button>
                            <button type="button" class="btn btn-primary btn-block" onclick="catalogMassOpChangeActivity(true, true); $('#catalogMassOperationsModal').modal('hide');">Сделать видимыми</button>
                            <button type="button" class="btn btn-primary btn-block" onclick="catalogMassOpChangeActivity(true, false); $('#catalogMassOperationsModal').modal('hide');">Сделать невидмыми</button>
                            <button type="button" class="btn btn-default btn-block" data-dismiss="modal">Отмена</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade slide-right" id="catalogDeleteConfirmationModal" data-delete-url="@Url.Action(MVC.CMS.Catalog.CascadeDeleteCatalogItems())" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content-wrapper">
            <div class="modal-content">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                    <i class="pg-close fs-14"></i>
                </button>
                <div class="container-xs-height full-height">
                    <div class="row-xs-height">
                        <div class="modal-body col-xs-height col-middle text-center">
                            <h5 class="text-primary ">Вы уверены, что хотите удалить выбранный элемент и все его дочерние элементы?</h5>
                            <br>
                            <button type="button" class="btn btn-danger btn-block" onclick="catalogDelete(); $('#catalogDeleteConfirmationModal').modal('hide');">Удалить</button>
                            <button type="button" class="btn btn-default btn-block" data-dismiss="modal">Отмена</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade slide-right" id="uniGraphicsItemDeleteConfirmationModal" data-delete-url="@Url.Action(MVC.CMS.WebUni.DeleteUniGraphicsItem())" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content-wrapper">
            <div class="modal-content">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                    <i class="pg-close fs-14"></i>
                </button>
                <div class="container-xs-height full-height">
                    <div class="row-xs-height">
                        <div class="modal-body col-xs-height col-middle text-center">
                            <h5 class="text-primary ">Вы уверены, что хотите удалить выбранный слайд?</h5>
                            <br>
                            <button type="button" class="btn btn-danger btn-block" onclick="uniGraphicsItemDelete(); $('#uniGraphicsItemDeleteConfirmationModal').modal('hide');">Удалить</button>
                            <button type="button" class="btn btn-default btn-block" data-dismiss="modal">Отмена</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade fill-in" id="catalogCreationModal" data-photo-from-folder-url="@Url.Action(MVC.CMS.Catalog.CreatePhotoFromFolder())" data-modal-dir-url="@Url.Action(MVC.FileManager.Modal(true))" data-url="@Url.Action(MVC.CMS.Catalog.FastCreate())" data-atypes-url="@Url.Action(MVC.CMS.Catalog.GetAvailableChildrenTypes())" tabindex="-1" role="dialog" aria-hidden="true" style="background-color:#f5f5f5;">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
        <i class="pg-close"></i>
    </button>
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header" style="margin-bottom:20px;">
                <div class="row">
                    <div class="col-sm-6 col-xs-12">
                        <h3 class="text-left">СОЗДАНИЕ ЭЛЕМЕНТА</h3>
                    </div>

                    <div class="col-sm-6">
                        <div class="catalog-create-menu-manages-buttons">
                            <button type="button" class="btn catalog-create-menu-btn catalog-create-menu-btn-import btn-block" data-url="@Url.Action(MVC.CMS.Catalog.Import())" onclick="$('#catalogCreationModal').modal('hide');OpenFM('@Url.Action(MVC.FileManager.Modal())', $(this), onCIWebUniSelected);"><i class="fa fa-upload"></i> Импорт</button>
                        </div>
                        <div class="catalog-create-menu-manages-buttons">
                            <button type="button" class="btn catalog-create-menu-btn catalog-create-menu-btn-export btn-block" onclick="window.location.href = '@Url.Action(MVC.CMS.Catalog.Export())' + '/' + $('#catalogCreationModal').data('id')"><i class="fa fa-download"></i> Экспорт</button>
                        </div>

                    </div>
                </div>
            </div>
            <div class="modal-body">
                <div id="creation-menu-element-info" style="margin-bottom:50px;">

                </div>

                <div id="creation-menu-search-container" hidden="hidden">
                    <div class="row">
                        <input class="form-control" type="text" placeholder="Что бы вы хотели добавить?" />
                    </div>
                    <div class="row" style="margin-top:20px;">
                        <div class="col-md-4">
                            <div class="checkbox check-success">
                                <input checked="checked" type="checkbox" value="true">
                                <label>готовые проекты</label>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="checkbox check-success">
                                <input type="checkbox" value="false">
                                <label>макеты страниц</label>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="checkbox check-success">
                                <input type="checkbox" value="false">
                                <label>шаблоны элементов</label>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="creation-menu-forums-elements-container">
                    <div id="creation-menu-forums-elements-header">
                        <h4>РАЗДЕЛЫ</h4>
                    </div>
                    <div id="creation-menu-forums-elements-content" class="row">

                    </div>
                </div>

                <div id="creation-menu-panels-elements-container">
                    <div id="creation-menu-panels-elements-header">
                        <h4>ПАНЕЛИ</h4>
                    </div>
                    <div id="creation-menu-panels-elements-content" class="row">

                    </div>
                </div>

                <div id="creation-menu-main-elements-container">
                    <div id="creation-menu-main-elements-header">
                        <h4>ОСНОВНЫЕ ЭЛЕМЕНТЫ</h4>
                    </div>
                    <div id="creation-menu-main-elements-content" class="row">

                    </div>
                </div>

                <div id="creation-menu-addititional-elements-container">
                    <div id="creation-menu-addititional-elements-header">
                        <h4>ДОПОЛНИТЕЛЬНЫЕ ЭЛЕМЕНТЫ</h4>
                    </div>
                    <div id="creation-menu-addititional-elements-content" class="row">

                    </div>
                </div>

                <div id="creation-menu-filter-elements-container">
                    <div id="creation-menu-filter-elements-header">
                        <h4>СОРТИРОВКА И ФИЛЬТРЫ</h4>
                    </div>
                    <div id="creation-menu-filter-elements-content" class="row">

                    </div>
                </div>

                <div id="creation-menu-score-elements-container">
                    <div id="creation-menu-score-elements-header">
                        <h4>МАГАЗИН</h4>
                    </div>
                    <div id="creation-menu-score-elements-content" class="row">

                    </div>
                </div>

                <div id="creation-menu-personality-elements-container">
                    <div id="creation-menu-personality-elements-header">
                        <h4>ЛИЧНЫЙ КАБИНЕТ</h4>
                    </div>
                    <div id="creation-menu-personality-elements-content" class="row">

                    </div>
                </div>

                <div id="creation-menu-another-elements-container" hidden="hidden">
                    <div id="creation-menu-another-elements-header">
                        <h4>ДРУГИЕ</h4>
                    </div>
                    <div id="creation-menu-another-elements-content" class="row">

                    </div>
                </div>

                <div>
                    <div class="row">
                        <!--<div class="col-lg-2 col-lg-3 col-md-4  col-sm-4 col-xs-12 col-sm-4 col-xs-12 createmenu_bigbtn">
                            <button type="button" class="btn catalog-create-menu-btn catalog-create-menu-btn-maket btn-block" onclick="showTemplateModal('@Url.Action(MVC.CMS.Catalog.TemplateSelector())', '@CatalogItemTypeValue.Layouts')">Макет</button>
                        </div>
                        <div class="col-lg-2 col-lg-3 col-md-4  col-sm-4 col-xs-12 col-sm-4 col-xs-12 createmenu_bigbtn">
                            <button type="button" class="btn catalog-create-menu-btn catalog-create-menu-btn-element btn-block" onclick="showTemplateModal('@Url.Action(MVC.CMS.Catalog.TemplateSelector())', '@CatalogItemTypeValue.Elements')">Элемент</button>
                        </div>-->
                        <div class="col-lg-2 col-lg-3 col-md-4  col-sm-4 col-xs-12 col-sm-4 col-xs-12 col-lg-offset-10 col-md-offset-9 col-sm-offset-8 creationmenu_btn">
                            <button type="button" class="btn catalog-create-menu-btn catalog-create-menu-btn-cancel btn-block" data-dismiss="modal">Отмена</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade fill-in" id="instructionmodal" tabindex="-1" role="dialog" aria-hidden="true" style="display: none;">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
        <i class="pg-close"></i>
    </button>
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body" style="    background-color: white;
    padding-top: 16px;">
                <div class="panel-heading" style='padding-top: 0px; z-index: 0;'>
                    <div class="btn-group" style="float: left">
                        <button class="btn btn-default normal-font maininstructionview-btn" style="overflow: hidden;" onclick="changeMainInstruction($(this), 0) ">на телефоне</button>
                        <button class="btn btn-default normal-font maininstructionview-btn" style="overflow: hidden;" onclick="changeMainInstruction($(this), 1)">на планшете</button>
                        <button class="btn btn-default normal-font maininstructionview-btn" style="overflow: hidden;" onclick="changeMainInstruction($(this), 2) ">на ноутбуке</button>
                        <button class="btn btn-default normal-font maininstructionview-btn active" style="overflow: hidden;" onclick="changeMainInstruction($(this), 3) ">на десктопе</button>
                    </div>
                    <div class="checkbox check-success" id="maininstructionview-fit-wrapper">
                        <input data-val="true" id="maininstructionview-fit" onchange="onMainInstructionFitChanged()" name="maininstructionview-fit" type="checkbox" value="false">
                        <label for="maininstructionview-fit">Реальный размер</label>
                    </div>
                </div>
                <div id="main-instruction" class="panel-body" style="margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px;">
                    <div class="">

                    </div>
                </div>
            </div>
            <div class="modal-footer">
            </div>
        </div>

    </div>

</div>


<div class="modal fade fill-in" id="mainmenumodal" tabindex="-1" role="dialog" aria-hidden="true" style="display: none;">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
        <i class="pg-close"></i>
    </button>
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body" style="margin-top: 25px;">
                @{
                    var applications = ServiceLocator.Current.GetInstance<IApplicationService>().GetAll().ToDictionary(x=>x.Code, x=>x.IsEnabled);
                }
                
                <div class="row">
                   
                        @if (applications["profile"])
                        {
                                <div class="col-lg-3 col-md-4  col-sm-4 col-xs-12 ">

                                    <div id="main-menu-profile" class="panel panel-default WebUni-panel ">
                                        <a target="_blank" href="@Url.Action(MVC.Home.Index())">
                                            <img src='@Url.Content(@"~/Content/Images/MainMenu/app-profile.png")'>
                                            <div class="WebUni-panel-name">Профиль</div>
                                        </a>
                                    </div>
                                
                                </div>
                        }
                        @if (applications["team"])
                        {
                                <div class="col-lg-3 col-md-4  col-sm-4 col-xs-12">
                                    <div id="main-menu-team" class="panel panel-default WebUni-panel ">
                                        <a target="_blank" href="@Url.Action(MVC.Team.Home.Index())">
                                            <img src='@Url.Content(@"~/Content/Images/MainMenu/app-team.png")'>
                                            <div class="WebUni-panel-name">Команда</div>
                                        </a>
                                    </div>
                                </div>
                        }
                        @if (applications["server"])
                        {
                                <div class="col-lg-3 col-md-4  col-sm-4 col-xs-12">
                                    <div id="main-menu-server" class="panel panel-default WebUni-panel ">
                                        <a target="_blank" href="@Url.Action(MVC.Cloud.Home.Index())">
                                            <img src='@Url.Content(@"~/Content/Images/MainMenu/app-cloud.png")'>
                                            <div class="WebUni-panel-name">Сервер</div>
                                        </a>
                                    </div>
                                </div>
                        }
                        @if (applications["communication"])
                        {
                                <div class="col-lg-3 col-md-4  col-sm-4 col-xs-12">
                                    <div id="main-menu-communication" class="panel panel-default WebUni-panel ">
                                        <a target="_blank" href="@Url.Action(MVC.Communications.Home.Index())">
                                            <img src='@Url.Content(@"~/Content/Images/MainMenu/app-communication.png")'>
                                            <div class="WebUni-panel-name">Общение</div>
                                        </a>
                                    </div>
                                </div>
                        }
                        @if (applications["cms"])
                        {
                                <div class="col-lg-3 col-md-4  col-sm-4 col-xs-12">
                                    <div id="main-menu-cms" class="panel panel-default WebUni-panel ">
                                        <a target="_blank" href="@Url.Action(MVC.CMS.Home.Index())">
                                            <img src='@Url.Content(@"~/Content/Images/MainMenu/app-cms.png")'>
                                            <div class="WebUni-panel-name">Сайты</div>
                                        </a>
                                    </div>
                                </div>
                        }
                        @if (applications["projects"])
                        {
                                <div class="col-lg-3 col-md-4  col-sm-4 col-xs-12">
                                    <div id="main-menu-projects" class="panel panel-default WebUni-panel ">
                                        <a target="_blank" href="@Url.Action(MVC.Projects.Home.Index())">
                                            <img src='@Url.Content(@"~/Content/Images/MainMenu/app-projects.png")'>
                                            <div class="WebUni-panel-name">Проекты</div>
                                        </a>
                                    </div>
                                </div>
                        }
                        @if (applications["crm"])
                        {
                                <div class="col-lg-3 col-md-4  col-sm-4 col-xs-12">
                                    <div id="main-menu-crm" class="panel panel-default WebUni-panel ">
                                        <a href="@Url.Action(MVC.CRM.Home.Index())">
                                            <img src='@Url.Content(@"~/Content/Images/MainMenu/app-crm.png")'>
                                            <div class="WebUni-panel-name">Финансы</div>
                                        </a>
                                    </div>
                                </div>
                        }
                        @if (applications["wms"])
                        {
                                <div class="col-lg-3 col-md-4  col-sm-4 col-xs-12">
                                    <div id="main-menu-location" class="panel panel-default WebUni-panel ">
                                        <a target="_blank" href="@Url.Action(MVC.WMS.Home.Index())">
                                            <img src='@Url.Content(@"~/Content/Images/MainMenu/app-wms.png")'>
                                            <div class="WebUni-panel-name">Склады</div>
                                        </a>
                                    </div>
                                </div>
                        }
                       @if (applications["transit"])
                       {
                                <div class="col-lg-3 col-md-4  col-sm-4 col-xs-12">
                                    <div id="main-menu-wms" class="panel panel-default WebUni-panel ">
                                        <a target="_blank" href="@Url.Action(MVC.Transit.Home.Index())">
                                            <img src='@Url.Content(@"~/Content/Images/MainMenu/app-transit.png")'>
                                            <div class="WebUni-panel-name">Доставка</div>
                                        </a>
                                    </div>
                                </div>
                        }
                        @if (applications["partners"])
                        {
                                <div class="col-lg-3 col-md-4  col-sm-4 col-xs-12">
                                    <div id="main-menu-partner" class="panel panel-default WebUni-panel ">
                                        <a target="_blank" href="@Url.Action(MVC.Partner.Home.Index())">
                                            <img src='@Url.Content(@"~/Content/Images/MainMenu/app-partner.png")'>
                                            <div class="WebUni-panel-name">Партнеры</div>
                                        </a>
                                    </div>
                                </div>
                        }
                        @if (applications["market"])
                        {
                                <div class="col-lg-3 col-md-4  col-sm-4 col-xs-12">
                                    <div id="main-menu-market" class="panel panel-default WebUni-panel ">
                                        <a target="_blank" href="@Url.Action(MVC.Market.Home.Index())">
                                            <img src='@Url.Content(@"~/Content/Images/MainMenu/app-market.png")'>
                                            <div class="WebUni-panel-name">Маркет</div>
                                        </a>
                                    </div>
                                </div>
                        }
                        @if (applications["settings"])
                        {
                                <div class="col-lg-3 col-md-4  col-sm-4 col-xs-12">
                                    <div id="main-menu-WebUni" class="panel panel-default WebUni-panel ">
                                        <a target="_blank" href="@Url.Action(MVC.Settings.Home.Index())">
                                            <img src='@Url.Content(@"~/Content/Images/MainMenu/app-platform.png")'>
                                            <div class="WebUni-panel-name">Платформа</div>
                                        </a>
                                    </div>
                                </div>
                        }
                        @if (applications["news"])
                        {
                            <div class="col-lg-3 col-md-4  col-sm-4 col-xs-12">
                                <div id="main-menu-news" class="panel panel-default WebUni-panel ">
                                    <a target="_blank" href="@Url.Action(MVC.News.Home.Index())">
                                        <img src='@Url.Content(@"~/Content/Images/MainMenu/app-news.png")'>
                                        <div class="WebUni-panel-name">Новости</div>
                                    </a>
                                </div>
                            </div>
                        }
                        @if (applications["actions"])
                        {
                            <div class="col-lg-3 col-md-4  col-sm-4 col-xs-12">
                                <div id="main-menu-actions" class="panel panel-default WebUni-panel ">
                                    <a target="_blank" href="@Url.Action(MVC.Actions.Home.Index())">
                                        <img src='@Url.Content(@"~/Content/Images/MainMenu/app-loyalty.png")'>
                                        <div class="WebUni-panel-name">Акции</div>
                                    </a>
                                </div>
                            </div>
                        }
                        @if (applications["vacancies"])
                        {
                            <div class="col-lg-3 col-md-4  col-sm-4 col-xs-12">
                                <div id="main-menu-vacancies" class="panel panel-default WebUni-panel ">
                                    <a target="_blank" href="@Url.Action(MVC.Vacancies.Home.Index())">
                                        <img src='@Url.Content(@"~/Content/Images/MainMenu/app-work.png")'>
                                        <div class="WebUni-panel-name">Вакансии</div>
                                    </a>
                                </div>
                            </div>
                        }

                    @if (applications["docs"])
                    {
                        <div class="col-lg-3 col-md-4  col-sm-4 col-xs-12">
                            <div id="main-menu-docs" class="panel panel-default WebUni-panel ">
                                <a target="_blank" href="@Url.Action(MVC.Docs.Home.Index())">
                                    <img src='@Url.Content(@"~/Content/Images/MainMenu/app-docs.png")'>
                                    <div class="WebUni-panel-name">Документы</div>
                                </a>
                            </div>
                        </div>
                    }
                    @if (applications["ideas"])
                    {
                        <div class="col-lg-3 col-md-4  col-sm-4 col-xs-12">
                            <div id="main-menu-ideas" class="panel panel-default WebUni-panel ">
                                <a target="_blank" href="@Url.Action(MVC.Ideas.Home.Index())">
                                    <img src='@Url.Content(@"~/Content/Images/MainMenu/app-ideas.png")'>
                                    <div class="WebUni-panel-name">Идеи</div>
                                </a>
                            </div>
                        </div>
                    }

                    @if (applications["plans"])
                    {
                        <div class="col-lg-3 col-md-4  col-sm-4 col-xs-12">
                            <div id="main-menu-plans" class="panel panel-default WebUni-panel ">
                                <a target="_blank" href="@Url.Action(MVC.Plans.Home.Index())">
                                    <img src='@Url.Content(@"~/Content/Images/MainMenu/app-plans.png")'>
                                    <div class="WebUni-panel-name">Планы</div>
                                </a>
                            </div>
                        </div>
                    }

                    @if (applications["tasks"])
                    {
                        <div class="col-lg-3 col-md-4  col-sm-4 col-xs-12">
                            <div id="main-menu-tasks" class="panel panel-default WebUni-panel ">
                                <a target="_blank" href="@Url.Action(MVC.Tasks.Home.Index())">
                                    <img src='@Url.Content(@"~/Content/Images/MainMenu/app-tasks.png")'>
                                    <div class="WebUni-panel-name">Задачи</div>
                                </a>
                            </div>
                        </div>
                    }


                    @if (applications["lists"])
                    {
                        <div class="col-lg-3 col-md-4  col-sm-4 col-xs-12">
                            <div id="main-menu-lists" class="panel panel-default WebUni-panel ">
                                <a target="_blank" href="@Url.Action(MVC.Lists.Home.Index())">
                                    <img src='@Url.Content(@"~/Content/Images/MainMenu/app-lists.png")'>
                                    <div class="WebUni-panel-name">Списки</div>
                                </a>
                            </div>
                        </div>
                    }

                @if (applications["calendar"])
                    {
                        <div class="col-lg-3 col-md-4  col-sm-4 col-xs-12">
                            <div id="main-menu-calendar" class="panel panel-default WebUni-panel ">
                                <a target="_blank" href="@Url.Action(MVC.Calendar.Home.Index())">
                                    <img src='@Url.Content(@"~/Content/Images/MainMenu/app-calendar.png")'>
                                    <div class="WebUni-panel-name">Календарь</div>
                                </a>
                            </div>
                        </div>
                    }


                    @if (applications["events"])
                    {
                        <div class="col-lg-3 col-md-4  col-sm-4 col-xs-12">
                            <div id="main-menu-events" class="panel panel-default WebUni-panel ">
                                <a target="_blank" href="@Url.Action(MVC.Events.Home.Index())">
                                    <img src='@Url.Content(@"~/Content/Images/MainMenu/app-events.png")'>
                                    <div class="WebUni-panel-name">События</div>
                                </a>
                            </div>
                        </div>
                    }


                    @if (applications["places"])
                    {
                        <div class="col-lg-3 col-md-4  col-sm-4 col-xs-12">
                            <div id="main-menu-places" class="panel panel-default WebUni-panel ">
                                <a target="_blank" href="@Url.Action(MVC.Places.Home.Index())">
                                    <img src='@Url.Content(@"~/Content/Images/MainMenu/app-places.png")'>
                                    <div class="WebUni-panel-name">Места</div>
                                </a>
                            </div>
                        </div>
                    }
                
                    @if (applications["reserve"])
                    {
                        <div class="col-lg-3 col-md-4  col-sm-4 col-xs-12">
                            <div id="main-menu-reserve" class="panel panel-default WebUni-panel ">
                                <a target="_blank" href="@Url.Action(MVC.Reserve.Home.Index())">
                                    <img src='@Url.Content(@"~/Content/Images/MainMenu/app-reserve.png")'>
                                    <div class="WebUni-panel-name">Бронирование</div>
                                </a>
                            </div>
                        </div>
                    }
                
                    @if (applications["postcards"])
                    {
                        <div class="col-lg-3 col-md-4  col-sm-4 col-xs-12">
                            <div id="main-menu-postcards" class="panel panel-default WebUni-panel ">
                                <a target="_blank" href="@Url.Action(MVC.Postcards.Home.Index())">
                                    <img src='@Url.Content(@"~/Content/Images/MainMenu/app-postcards.png")'>
                                    <div class="WebUni-panel-name">Открытки</div>
                                </a>
                            </div>
                        </div>
                    }

                    @if (applications["print"])
                    {
                        <div class="col-lg-3 col-md-4  col-sm-4 col-xs-12">
                            <div id="main-menu-print" class="panel panel-default WebUni-panel ">
                                <a target="_blank" href="@Url.Action(MVC.Print.Home.Index())">
                                    <img src='@Url.Content(@"~/Content/Images/MainMenu/app-print.png")'>
                                    <div class="WebUni-panel-name">Печать</div>
                                </a>
                            </div>
                        </div>
                    }

                    @if (applications["research"])
                    {
                        <div class="col-lg-3 col-md-4  col-sm-4 col-xs-12">
                            <div id="main-menu-research" class="panel panel-default WebUni-panel ">
                                <a target="_blank" href="@Url.Action(MVC.Research.Home.Index())">
                                    <img src='@Url.Content(@"~/Content/Images/MainMenu/app-research.png")'>
                                    <div class="WebUni-panel-name">Исследования</div>
                                </a>
                            </div>
                        </div>
                    }

                    @if (applications["ads"])
                    {
                        <div class="col-lg-3 col-md-4  col-sm-4 col-xs-12">
                            <div id="main-menu-ads" class="panel panel-default WebUni-panel ">
                                <a target="_blank" href="@Url.Action(MVC.Ads.Home.Index())">
                                    <img src='@Url.Content(@"~/Content/Images/MainMenu/app-ads.png")'>
                                    <div class="WebUni-panel-name">Реклама</div>
                                </a>
                            </div>
                        </div>
                    }
                </div>
            </div>
                <div class="modal-footer">
                </div>
            </div>

        </div>

</div>


<div class="modal fade fill-in" id="screensettingsmodal" tabindex="-1" role="dialog" aria-hidden="true" style="display: none;">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
        <i class="pg-close"></i>
    </button>
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
            </div>
            <div class="modal-body">
                    <div class="row">
                        <div class="col-md-6 ">
                            <div class="row">
                                <div class="col-md-12 ">
                                    <div  class="panel panel-default WebUni-panel ">
                                        <a href="javascript:;" onclick="setScreenConfigurations(1)">
                                            <img src='@Url.Content(@"~/Content/Images/Screens/screen-1.png")'>
                                            <div class="WebUni-panel-name">Экран  1</div>
                                        </a>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-12 ">
                                    <div class="panel panel-default WebUni-panel ">
                                        <a href="javascript:;" onclick="setScreenConfigurations(3)">
                                            <img src='@Url.Content(@"~/Content/Images/Screens/screen-3.png")'>
                                            <div class="WebUni-panel-name">Экран  3</div>
                                        </a>
                                    </div>
                                </div>
                            </div>

                        </div>

                        <div class="col-md-6 ">
                            <div class="row">
                                <div class="col-md-12 ">
                                    <div class="panel panel-default WebUni-panel ">
                                        <a href="javascript:;" onclick="setScreenConfigurations(2)">
                                            <img src='@Url.Content(@"~/Content/Images/Screens/screen-2.png")'>
                                            <div class="WebUni-panel-name">Экран  2</div>
                                        </a>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-12 ">
                                    <div class="panel panel-default WebUni-panel ">
                                        <a href="javascript:;" onclick="setScreenConfigurations(4)">
                                            <img src='@Url.Content(@"~/Content/Images/Screens/screen-4.png")'>
                                            <div class="WebUni-panel-name">Экран  4</div>
                                        </a>
                                    </div>
                                </div>
                            </div>

                        </div>

                    </div>           
                </div>
            <div class="modal-footer">
            </div>
        </div>

    </div>

</div>

<div class="modal fade fill-in" id="DynamicEntityDialog" data-gettables-url="@Url.Action(MVC.Projects.DynamicTables.Actions.GetTablesList())" tabindex="-1" role="dialog" aria-hidden="true" style="background-color:#f5f5f5;">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
        <i class="pg-close"></i>
    </button>
    <div class="modal-dialog" style="width: 80%; margin-left: 10%; margin-right: 10%;">
        <div class="modal-content">
            <div class="modal-header" style="margin-bottom:20px;">
                <div class="row">
                    <div class="col-xs-12">
                        <h3 class="text-left">Выбор поставщика данных</h3>
                    </div>
                </div>
            </div>
            <div class="modal-body">
                <div id="DynamicEntityDialog-element-info" style="margin-bottom:50px;">

                </div>

                <div id="DynamicEntityDialog-elements-container" class="row">

                </div>

                <div>
                    <div class="row">
                        <div class="col-lg-2 col-lg-3 col-md-4  col-sm-4 col-xs-12 col-sm-4 col-xs-12 col-lg-offset-10 col-md-offset-9 col-sm-offset-8 creationmenu_btn">
                            <button type="button" class="btn catalog-create-menu-btn catalog-create-menu-btn-cancel btn-block" data-dismiss="modal">Отмена</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


    <div class="modal fade fill-in" id="template-modal" tabindex="-1" role="dialog" aria-hidden="true" style="display: none;">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
            <i class="pg-close"></i>
        </button>
        <div class="modal-dialog" id="template-modal-content">


        </div>

    </div>


    <div class="modal fade slide-up disable-scroll" id="pl-properties-modal" tabindex="-1" role="dialog" aria-hidden="false" data-url="@Url.Action(MVC.CRM.Properties.Selector())">
        <div class="modal-dialog modal-lg">
            <div class="modal-content-wrapper">
                <div class="modal-content">
                    <div class="modal-header clearfix text-left">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                            <i class="pg-close fs-14"></i>
                        </button>
                        <p class="p-b-10">Пожалуйста, выберите свойство</p>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="p-container">
                                </div>
                            </div>

                        </div>
                        <div class="row">
                            <div class="col-sm-8">

                            </div>
                            <div class="col-sm-4  m-t-10">
                                <button type="button" id="pl-prop-ok-btn" onclick="PLPropertiesSelected(); $('#pl-properties-modal').modal('hide');" class="btn btn-primary btn-block disabled">Выбрать</button>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade slide-up disable-scroll" id="sgpl-modal" tabindex="-1" role="dialog" aria-hidden="false" data-url="@Url.Action(MVC.CMS.Catalog.SiteGroupPriceListDataCard())">
        <div class="modal-dialog modal-lg">
            <div class="modal-content-wrapper">
                <div class="modal-content">
                    <div class="modal-header clearfix text-left">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                            <i class="pg-close fs-14"></i>
                        </button>
                    </div>
                    <div class="modal-body" style="">
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="p-container">
                                </div>
                            </div>

                        </div>
                        <div class="row">
                            <div class="col-sm-8">

                            </div>
                            <div class="col-sm-4  m-t-10">
                                <button type="button" onclick="$('#sgpl-modal').modal('hide');" class="btn btn-primary btn-block">Закрыть</button>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade slide-up disable-scroll" id="pls-modal" tabindex="-1" role="dialog" data-url="@Url.Action(MVC.CMS.Search.SelectorGridViewPartial())" data-insert-url="@Url.Action(MVC.CMS.Catalog.AddSearchProperties())" aria-hidden="false">
        <div class="modal-dialog modal-lg">
            <div class="modal-content-wrapper">
                <div class="modal-content">
                    <div class="modal-header clearfix text-left">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                            <i class="pg-close fs-14"></i>
                        </button>
                        <p class="p-b-10">@*Пожалуйста, выберите свойство*@</p>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="pls-container">
                                </div>
                            </div>

                        </div>
                        <div class="row">
                            <div class="col-sm-8">

                            </div>
                            <div class="col-sm-4  m-t-10">
                                <button type="button" id="pl-prop-ok-btn" onclick="insertPLSearchSelectorSelectedValues(); $('#pls-modal').modal('hide');" class="btn btn-primary btn-block">Выбрать</button>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade slide-up disable-scroll" id="addresses-modal"
         tabindex="-1"
         role="dialog"
         data-ciid=""
         data-mode=""
         data-insert-url="@Url.Action(MVC.WMS.Storages.AddAddresses())"
         aria-hidden="false"
         data-url="@Url.Action(MVC.WMS.Addresses.SelectorGridViewPartial())">
        <div class="modal-dialog modal-lg">
            <div class="modal-content-wrapper">
                <div class="modal-content">
                    <div class="modal-header clearfix text-left">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                            <i class="pg-close fs-14"></i>
                        </button>
                        <p class="p-b-10">@*Пожалуйста, выберите свойство*@</p>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="pl-container">
                                </div>
                            </div>

                        </div>
                        <div class="row">
                            <div class="col-sm-8">

                            </div>
                            <div class="col-sm-4  m-t-10">
                                <button type="button" onclick="insertAddressesSelectorSelectedValues(); $('#addresses-modal').modal('hide');" class="btn btn-primary btn-block">Выбрать</button>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade slide-up disable-scroll" id="pl-modal"
         tabindex="-1"
         role="dialog"
         data-ciid=""
         data-mode=""
         data-insert-storage-url="@Url.Action(MVC.WMS.Availability.AddPriceListElements())"
         data-insert-sitegroup-url="@Url.Action(MVC.CMS.Catalog.AddSiteGroupPriceListElements())"
         @*data-insert-url="@Url.Action(MVC.CMS.Catalog.AddPriceListElements())"*@
         data-insert-orderelement-url="@Url.Action(MVC.CRM.Order.AddOrderElements())"
         aria-hidden="false"
         data-url="@Url.Action(MVC.CRM.PriceList.SelectorGridViewPartial())"
         data-url-single="@Url.Action(MVC.CRM.PriceList.SelectorGridViewPartial(true))">
        <div class="modal-dialog modal-lg">
            <div class="modal-content-wrapper">
                <div class="modal-content">
                    <div class="modal-header clearfix text-left">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                            <i class="pg-close fs-14"></i>
                        </button>
                        <p class="p-b-10">@*Пожалуйста, выберите свойство*@</p>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="pl-container">
                                </div>
                            </div>

                        </div>
                        <div class="row">
                            <div class="col-sm-8">

                            </div>
                            <div class="col-sm-4  m-t-10">
                                <button type="button" id="pl-prop-ok-btn" onclick="insertPLSelectorSelectedValues(); $('#pl-modal').modal('hide');" class="btn btn-primary btn-block">Выбрать</button>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="modal fade slide-up disable-scroll" id="de-modal"
         tabindex="-1"
         role="dialog"
         data-ciid=""
         data-mode=""
         aria-hidden="false"
         data-url-single="@Url.Action(MVC.Projects.DynamicTables.DynamicEntitySelectorGridViewPartial())">
        <div class="modal-dialog modal-lg">
            <div class="modal-content-wrapper">
                <div class="modal-content">
                    <div class="modal-header clearfix text-left">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                            <i class="pg-close fs-14"></i>
                        </button>
                        <p class="p-b-10"></p>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="input-group" style="margin-right: 20px; width:240px; margin-bottom: 20px;">
                                    <input type="text" id="DynamicTableVersionIDForUniLine" class='tag-input full-width' value="0" />
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="de-container">
                                </div>
                            </div>
    
                        </div>
                        <div class="row">
                            <div class="col-sm-8">
    
                            </div>
                            <div class="col-sm-4  m-t-10">
                                <button type="button" id="de-ok-btn" onclick="insertDynamicEntitySelectorSelectedValues();" class="btn right-menu-btn right-menu-btn-simple btn-block">Выбрать</button>
                            </div>
                        </div>
    
                    </div>
                </div>
            </div>
        </div>
    </div>

<div class="modal fade slide-up disable-scroll" id="dc-modal"
     tabindex="-1"
     role="dialog"
     data-ciid=""
     data-mode=""
     aria-hidden="false"
     data-url-single="@Url.Action(MVC.Projects.DynamicTables.DynamicColumnSelectorGridViewPartial())">
    <div class="modal-dialog modal-lg">
        <div class="modal-content-wrapper">
            <div class="modal-content">
                <div class="modal-header clearfix text-left">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        <i class="pg-close fs-14"></i>
                    </button>
                    <p class="p-b-10"></p>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="dc-container">
                            </div>
                        </div>

                    </div>
                    <div class="row">
                        <div class="col-sm-8">

                        </div>
                        <div class="col-sm-4  m-t-10">
                            <button type="button" id="dc-ok-btn" onclick="insertDynamicColumnSelectorSelectedValues();" class="btn right-menu-btn right-menu-btn-simple btn-block">Выбрать</button>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>


<div class="modal fade slide-up disable-scroll" id="cl-modal" tabindex="-1" role="dialog" data-ciid="" data-mode="" aria-hidden="false" data-url="@Url.Action(MVC.CRM.Clients.SelectorClientListGridViewPartial())">
        <div class="modal-dialog modal-lg">
            <div class="modal-content-wrapper">
                <div class="modal-content">
                    <div class="modal-header clearfix text-left">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                            <i class="pg-close fs-14"></i>
                        </button>
                        <p class="p-b-10">@*Пожалуйста, выберите свойство*@</p>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="cl-container">
                                </div>
                            </div>

                        </div>
                        <div class="row">
                            <div class="col-sm-8">

                            </div>
                            <div class="col-sm-4  m-t-10">
                                <button type="button" id="pl-prop-ok-btn" onclick="insertCLSelectorSelectedValues(); $('#cl-modal').modal('hide');" class="btn btn-primary btn-block">Выбрать</button>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade slide-right" id="utilityModal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content-wrapper">
                <div class="modal-content">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        <i class="pg-close fs-14"></i>
                    </button>
                    <div class="container-xs-height full-height">
                        <div class="row-xs-height">
                            <div class="modal-body col-xs-height col-middle    ">
                                <button type="button" class="btn right-menu-btn right-menu-btn-simple btn-block" onclick="cTreeRestoreOrder(currentCatalogItemKey,'@Url.Action(MVC.CMS.Catalog.RestoreOrder())'); $('#utilityModal').modal('hide');">Восстановить порядок дочерних элементов</button>
                                <button type="button" class="btn right-menu-btn right-menu-btn-cancel btn-block" data-dismiss="modal">Отмена</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade slide-right" id="clientCardModal" url-lp="@Url.Action(MVC.CRM.Clients.ClientCard(2))" url-ip="@Url.Action(MVC.CRM.Clients.ClientCard(2))" url-np="@Url.Action(MVC.CRM.Clients.ClientCard(1))" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content-wrapper">
                <div class="modal-content">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        <i class="pg-close fs-14"></i>
                    </button>
                    <div class="container-xs-height full-height">
                        <div class="row-xs-height">
                            <div class="modal-body col-xs-height col-middle    ">
                                <h5 class="text-primary text-center">Выберите тип клиента</h5>
                                <br>
                                <button type="button" class="btn right-menu-btn right-menu-btn-simple btn-block" onclick="openClientCard('@Url.Action(MVC.CRM.Clients.ClientCard(2))'); $('#clientCardModal').modal('hide');">Организация</button>
                                <button type="button" class="btn right-menu-btn right-menu-btn-simple btn-block" onclick="openClientCard('@Url.Action(MVC.CRM.Clients.ClientCard(3))'); $('#clientCardModal').modal('hide');">ИП</button>
                                <button type="button" class="btn right-menu-btn right-menu-btn-simple btn-block" onclick="openClientCard('@Url.Action(MVC.CRM.Clients.ClientCard(1))'); $('#clientCardModal').modal('hide');">Физическое лицо</button>
                                <button type="button" class="btn right-menu-btn right-menu-btn-cancel btn-block" data-dismiss="modal">Отмена</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade slide-right" id="assignSettingsModal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content-wrapper">
                <div class="modal-content">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        <i class="pg-close fs-14"></i>
                    </button>
                    <div class="container-xs-height full-height">
                        <div class="row-xs-height">
                            <div class="modal-body col-xs-height col-middle">
                                <div id="assignSettingsModalInner">
                                    <div id="assignSettingsModalInner-main" class="">
                                        <h5 class="text-primary ">Выберите желаемое действие</h5>
                                        <br>
                                        <button type="button" class="btn right-menu-btn right-menu-btn-simple btn-block" onclick="assignSettingsModalShowCopy()">Копировать</button>
                                        <button type="button" class="btn right-menu-btn right-menu-btn-simple btn-block" onclick="assignCatalogItem('move'); $('#assignSettingsModal').modal('hide');">Переместить</button>
                                        <button type="button" class="btn right-menu-btn right-menu-btn-cancel btn-block" data-dismiss="modal">Отмена</button>
                                    </div>
                                    <div id="assignSettingsModalInner-copy">
                                        <h5 class="text-primary ">Как Вы желаете начать копирование?</h5>
                                        <br>

                                        <div class="radio WebUni-radio radio-success">
                                            <input type="radio" name="assignSettingsModal-copy-makeVisible" value="@CatalogItemAssignVisibilityType.NotChangeVisible" id="assignSettingsModal-copy-notChange" checked="checked">
                                            <label for="assignSettingsModal-copy-notChange">Сохранить настройки</label>
                                            <input type="radio" name="assignSettingsModal-copy-makeVisible" value="@CatalogItemAssignVisibilityType.MakeVisible" id="assignSettingsModal-copy-makeVisible">
                                            <label for="assignSettingsModal-copy-makeVisible">Сделать видимыми</label>
                                            <input type="radio" name="assignSettingsModal-copy-makeVisible" value="@CatalogItemAssignVisibilityType.MakeInvisible" id="assignSettingsModal-copy-makeUnVisible">
                                            <label for="assignSettingsModal-copy-makeUnVisible">Сделать невидимыми</label>
                                            <input type="radio" name="assignSettingsModal-copy-makeVisible" value="@CatalogItemAssignVisibilityType.MakeInvisibleOnlyFirst" id="assignSettingsModal-copy-makeInvisibleOnlyFirst">
                                            <label for="assignSettingsModal-copy-makeInvisibleOnlyFirst">Сделать невидимым первый элемент</label>
                                        </div>

                                        <div class="checkbox check-success  ">
                                            <input type="checkbox" value="true" id="assignSettingsModal-copy-deep">
                                            <label for="assignSettingsModal-copy-deep">Копировать связанные элементы</label>
                                        </div>
                                        <div class="checkbox check-success  ">
                                            <input type="checkbox" value="true" id="assignSettingsModal-copy-when-impl">
                                            <label for="assignSettingsModal-copy-when-impl" style="white-space: normal;">Игнорировать блокировку последовательной привязки базы данных</label>
                                        </div>

                                        <div style="margin-bottom: 20px">
                                            <label for="assignSettingsModal-copy-count">Количество копий:</label>
                                            <input type="text" id="assignSettingsModal-copy-count" value="1" />
                                        </div>


                                        <button type="button" class="btn right-menu-btn right-menu-btn-simple btn-block" onclick="assignCatalogItem('copy'); $('#assignSettingsModal').modal('hide');">Копировать</button>
                                        <button type="button" class="btn right-menu-btn right-menu-btn-cancel btn-block" onclick="assignSettingsModalShowMain()">Назад</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="modal fade slide-up" id="gradientgeneratormodal" tabindex="-1" role="dialog" aria-hidden="false">
        <div class="modal-dialog modal-lg">
            <div class="modal-content-wrapper">
                <div class="modal-content">
                    <div class="modal-header clearfix text-left">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                            <i class="pg-close fs-14"></i>
                        </button>
                        <h5>Градиентная заливка</h5>
                    </div>
                    <div class="modal-body">
                        <div class="row">

                            <div class="css-gradient-editor-container layout-init clearfix" id="css-gradient-editor-container">
                                <div class="row toolbar">
                                    <div class="col-md-12 text-right">
                                        <div class="btn-group btn-group-sm">
                                            <!--<a href="#" class="btn btn-default css-gradient-editor-configuration" data-toggle="modal" data-target="#cssgradientgeneratorconfigmodal"><span class="pngicon-wrench"></span> Config</a>-->
                                            <!--<button type="button" class="btn btn-primary css-gradient-editor-getcss" data-toggle="modal" data-target="#cssgradientgeneratorcssoutmodal" style="margin-right:10px"><span class="pngicon-file-css"></span> Get CSS</button>-->
                                            <button type="button" class="btn css-gradient-editor-undo"><span class="pngicon-undo"></span>Отменить</button>
                                            <button type="button" class="btn css-gradient-editor-redo"><span class="pngicon-redo"></span>Повторить</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="panel css-gradient-editor-swatches-wrapper">
                                            <div class="panel-heading">
                                                <h2 class="panel-title pull-left">Градиенты</h2>
                                                <div class="clearfix">
                                                    <div class="pull-right btn-group">
                                                        <button type="button" class="btn btn-default btn-sm css-gradient-editor-export" data-toggle="modal" data-target="#exportallmodal"><span class="pngicon-arrow-up2"></span>Экспорт</button>
                                                        <button type="button" class="btn btn-default btn-sm css-gradient-editor-import" data-toggle="modal" data-target="#importmodal"><span class="pngicon-arrow-down2"></span>Импорт</button>
                                                        <div class="css-gradient-editor-preset current btn pull-left"><span></span></div>
                                                        <button type="button" class="btn btn-primary btn-sm css-gradient-editor-save" title="Сохранить текущий градиент"><span class="pngicon-disk"></span>Сохранить</button>
                                                        <button type="button" class="btn btn-primary btn-sm css-gradient-editor-delete" title="Удалить градиент"><span class="pngicon-remove"></span>Удалить</button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="panel-body">
                                                <div class="content css-gradient-editor-swatches">
                                                    <ul class="clearfix"></ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="css-gradient-editor panel css-gradient-editor-preview-panel">
                                            <div class="panel-heading">
                                                <h2 class="panel-title pull-left">Просмотр</h2>
                                                <div class="clearfix">
                                                    <div class="pull-right btn-group">
                                                        <!--<button type="button" class="btn btn-primary btn-sm css-gradient-editor-adjustcolor"><span class="pngicon-settings"></span> Adjust color</button>-->
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="panel-body">
                                                <div class="css-gradient-editor-preview-container">
                                                    <div class="css-gradient-editor-preview">
                                                        <div class="ajax-loader"><span class="css-gradient-editor-preview-resize-handler"></span></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="panel gradient-properties">
                                    <div class="panel-heading">
                                        <h2 class="panel-title pull-left">Настройки градиента</h2>
                                        <div class="clearfix">
                                            <div class="pull-right btn-group">
                                                <a href="" class="btn btn-hover btn-primary btn-sm css-gradient-editor-layout-easy" title="<b>IE6+, Android 2.3+, iOS 3.2+</b><br><i>Линейные градиенты</i>">Простой</a>
                                                <a href="" class="btn btn-hover btn-primary btn-sm css-gradient-editor-layout-advanced" title="<b>IE9+, Android 3.0+, iOS 3.2+, WP7.5+</b><br /><i>Линейные и радиальные градиенты</i>">Продвинутый</a>
                                                <a href="" class="btn btn-hover btn-primary btn-sm css-gradient-editor-layout-expert" title="<b>IE10+, Android 4.0+, iOS 5.0+</b><br>Только для браузеров с поддержкой CSS3">Эксперт</a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="panel-body nopadding">
                                        <div class="layout-warning-box">
                                            <div class="label-warning layout-warning-advanced">
                                                Текущий градиент потеряет ряд настроек при конвертировании в простой вид ... <a href="" class="force-layout-change">Все равно изменить</a>
                                            </div>
                                            <div class="label-warning layout-warning-expert">
                                                Текущий градиент потеряет ряд настроек при конвертировании в продвинутый вид ... <a href="" class="force-layout-change">Все равно изменить</a>
                                            </div>
                                        </div>
                                        <div class="row gradient-preferences-easy">
                                            <div class="col-sm-5 col-xs-12">
                                                <input name="color_from">
                                            </div>
                                            <div class="col-sm-2 col-xs-12">
                                                <div class="css-gradient-editor-linear-direction-implicit">
                                                    <div class="btn-row">
                                                        <button class="btn btn-default btn-sm css-gradient-editor-controller css-gradient-editor-direction-top" data-control-group="linear-direction" data-name="gradient_direction" data-value="top"><span class="fa fa-arrow-up"></span></button>
                                                    </div>
                                                    <div class="btn-row">
                                                        <button class="btn btn-default btn-sm css-gradient-editor-controller css-gradient-editor-direction-left" data-control-group="linear-direction" data-name="gradient_direction" data-value="left"><span class="fa fa-arrow-left"></span></button>
                                                        <button class="btn btn-default btn-sm css-gradient-editor-controller css-gradient-editor-direction-right pull-right" data-control-group="linear-direction" data-name="gradient_direction" data-value="right"><span class="fa fa-arrow-right"></span></button>
                                                    </div>
                                                    <div class="btn-row">
                                                        <button class="btn btn-default btn-sm css-gradient-editor-controller css-gradient-editor-direction-bottom" data-control-group="linear-direction" data-name="gradient_direction" data-value="bottom"><span class="fa fa-arrow-down"></span></button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-sm-5 col-xs-12">
                                                <input name="color_to">
                                            </div>
                                        </div>
                                        <div class="row gradient-preferences-advanced">
                                            <div class="col-md-6">
                                                <div class="css-gradient-editor-preferences form-horizontal block">
                                                    <div class="form-group">
                                                        <label class="col-xs-3">Повторение: </label>
                                                        <div class="col-xs-9 btn-group">
                                                            <button class="btn btn-default btn-sm css-gradient-editor-controller" data-control-group="repeat" data-name="gradient_repeat" data-value="on">повторять</button>
                                                            <button class="btn btn-default btn-sm css-gradient-editor-controller" data-control-group="repeat" data-name="gradient_repeat" data-value="off">не повторять</button>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="col-xs-3">Тип градиента: </label>
                                                        <div class="col-xs-9 btn-group">
                                                            <button class="btn btn-default btn-sm css-gradient-editor-controller" data-control-group="gradient_type" data-name="gradient_type" data-value="linear">линейный</button>
                                                            <button class="btn btn-default btn-sm css-gradient-editor-controller" data-control-group="gradient_type" data-name="gradient_type" data-value="radial">радиальный</button>
                                                        </div>
                                                    </div>
                                                    <div class="css-gradient-editor-linear-preferences form-group">
                                                        <label class="col-xs-3">Ориентация:</label>
                                                        <div class="col-xs-9">
                                                            <div class="css-gradient-editor-linear-direction">
                                                                <div class="css-gradient-editor-linear-direction-implicit">
                                                                    <div class="btn-row">
                                                                        <button class="btn btn-default btn-sm css-gradient-editor-controller css-gradient-editor-direction-top-left" data-control-group="linear-direction" data-name="gradient_direction" data-value="top left"><span class="fa fa-arrow-up" style="transform: rotate(-45deg);"></span></button>
                                                                        <button class="btn btn-default btn-sm css-gradient-editor-controller css-gradient-editor-direction-top" data-control-group="linear-direction" data-name="gradient_direction" data-value="top"><span class="fa fa-arrow-up"></span></button>
                                                                        <button class="btn btn-default btn-sm css-gradient-editor-controller css-gradient-editor-direction-top-right" data-control-group="linear-direction" data-name="gradient_direction" data-value="top right"><span class="fa fa-arrow-up" style="transform: rotate(45deg);"></span></button>
                                                                    </div>
                                                                    <div class="btn-row">
                                                                        <button class="btn btn-default btn-sm css-gradient-editor-controller css-gradient-editor-direction-left" data-control-group="linear-direction" data-name="gradient_direction" data-value="left"><span class="fa fa-arrow-left"></span></button>
                                                                        <button class="btn btn-default btn-sm css-gradient-editor-controller css-gradient-editor-direction-right" data-control-group="linear-direction" data-name="gradient_direction" data-value="right"><span class="fa fa-arrow-right"></span></button>
                                                                    </div>
                                                                    <div class="btn-row">
                                                                        <button class="btn btn-default btn-sm css-gradient-editor-controller css-gradient-editor-direction-bottom-left" data-control-group="linear-direction" data-name="gradient_direction" data-value="bottom left"><span class="fa fa-arrow-down" style="transform: rotate(45deg);"></span></button>
                                                                        <button class="btn btn-default btn-sm css-gradient-editor-controller css-gradient-editor-direction-bottom" data-control-group="linear-direction" data-name="gradient_direction" data-value="bottom"><span class="fa fa-arrow-down"></span></button>
                                                                        <button class="btn btn-default btn-sm css-gradient-editor-controller css-gradient-editor-direction-bottom-right" data-control-group="linear-direction" data-name="gradient_direction" data-value="bottom right"><span class="fa fa-arrow-down" style="transform: rotate(-45deg);"></span></button>
                                                                    </div>
                                                                </div>
                                                                <div class="css-gradient-editor-linear-direction-explicit">
                                                                    <span class="css-gradient-editor-controller css-gradient-editor-direction-angle" data-control-group="linear-direction" data-name="gradient_direction" data-value="angle"><span></span></span>
                                                                    <span class="css-gradient-editor-controller css-gradient-editor-direction-angle-input" data-control-group="linear-direction" data-name="gradient_direction" data-value="angle"><input type="text" name="angle" class="input-sm"></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="css-gradient-editor-radial-preferences form-group">
                                                        <div class="form-group css-gradient-editor-radial-shape">
                                                            <label class="col-xs-3">Фигура: </label>
                                                            <div class="col-xs-9 btn-group">
                                                                <button class="btn btn-default btn-sm css-gradient-editor-controller" data-control-group="gradient_shape" data-name="gradient_shape" data-value="circle">круг</button>
                                                                <button class="btn btn-default btn-sm css-gradient-editor-controller" data-control-group="gradient_shape" data-name="gradient_shape" data-value="ellipse">эллипс</button>
                                                            </div>
                                                        </div>
                                                        <div class="form-group css-gradient-editor-radial-size">
                                                            <label class="col-xs-3">Размер: </label>
                                                            <div class="col-xs-9">
                                                                <div class="controls">
                                                                    <label>Implicit</label>
                                                                    <div class="btn-group">
                                                                        <button class="btn btn-default btn-sm css-gradient-editor-controller" data-control-group="gradient_size" data-name="gradient_size" data-value="closest-side">ближняя сторона</button>
                                                                        <button class="btn btn-default btn-sm css-gradient-editor-controller" data-control-group="gradient_size" data-name="gradient_size" data-value="closest-corner">ближний угол</button>
                                                                        <button class="btn btn-default btn-sm css-gradient-editor-controller" data-control-group="gradient_size" data-name="gradient_size" data-value="farthest-side">дальняя сторона</button>
                                                                        <button class="btn btn-default btn-sm css-gradient-editor-controller" data-control-group="gradient_size" data-name="gradient_size" data-value="farthest-corner">дальний угол</button>
                                                                    </div>
                                                                </div>
                                                                <div class="controls">
                                                                    <label>Explicit</label>
                                                                    <span class="span css-gradient-editor-controller css-gradient-editor-size-explicit" data-control-group="gradient_size" data-name="gradient_size" data-value="explicit"><input type="text" name="gradient_size" data-units='["px"]' class="input-sm"> <input type="text" name="gradient_size_major" data-units='["px"]' class="input-sm"></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="form-group css-gradient-editor-radial-horizontal-position">
                                                            <label class="col-xs-3">Горизонтальное размещение: </label>
                                                            <div class="col-xs-9">
                                                                <div class="controls">
                                                                    <label>Implicit</label>
                                                                    <div class="btn-group">
                                                                        <button class="btn btn-default btn-sm css-gradient-editor-controller" data-control-group="gradient_position_horizontal" data-name="gradient_position_horizontal" data-value="left">слева</button>
                                                                        <button class="btn btn-default btn-sm css-gradient-editor-controller" data-control-group="gradient_position_horizontal" data-name="gradient_position_horizontal" data-value="center">по центру</button>
                                                                        <button class="btn btn-default btn-sm css-gradient-editor-controller" data-control-group="gradient_position_horizontal" data-name="gradient_position_horizontal" data-value="right">справа</button>
                                                                    </div>
                                                                </div>
                                                                <div class="controls">
                                                                    <label>Explicit</label>
                                                                    <span class="css-gradient-editor-controller css-gradient-editor-position-horizontal-explicit" data-control-group="gradient_position_horizontal" data-name="gradient_position_horizontal" data-value="explicit"><input type="text" name="gradient_position_horizontal" data-units='["%","px"]' class="input-sm"></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="form-group css-gradient-editor-radial-vertical-position">
                                                            <label class="col-xs-3">Вертикальное размещение: </label>
                                                            <div class="col-xs-9">
                                                                <div class="controls">
                                                                    <label>Implicit</label>
                                                                    <div class="btn-group">
                                                                        <button class="btn btn-default btn-sm css-gradient-editor-controller" data-control-group="gradient_position_vertical" data-name="gradient_position_vertical" data-value="top">вверху</button>
                                                                        <button class="btn btn-default btn-sm css-gradient-editor-controller" data-control-group="gradient_position_vertical" data-name="gradient_position_vertical" data-value="center">по центру</button>
                                                                        <button class="btn btn-default btn-sm css-gradient-editor-controller" data-control-group="gradient_position_vertical" data-name="gradient_position_vertical" data-value="bottom">внизу</button>
                                                                    </div>
                                                                </div>
                                                                <div class="controls">
                                                                    <label>Explicit</label>
                                                                    <span class="css-gradient-editor-controller css-gradient-editor-position-vertical-explicit" data-control-group="gradient_position_vertical" data-name="gradient_position_vertical" data-value="explicit"><input type="text" name="gradient_position_vertical" data-units='["px","%"]' class="input-sm"></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="css-gradient-editor-colorstops-easy">
                                                    <div class="css-gradient-editor-stopeditor"><span></span><div class="css-gradient-editor-stoppointmarkers"></div></div>
                                                </div>
                                                <div class="css-gradient-editor-colorstops-advanced clearfix">
                                                    <div class="css-gradient-editor-stoppointlist"></div>
                                                    <button type="button" class="col-md-4 btn btn-sm btn-default css-gradient-editor-reorder-stoppoints"><span class="pngicon-random"></span>Обновить порядок</button>
                                                    <button type="button" class="col-md-offset-4 col-md-4 btn btn-sm btn-primary css-gradient-editor-add-stoppoint"><span class="pngicon-plus"></span>Добавить точку</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="modal bs-modal-lg" id="cssgradientgeneratorcssoutmodal" tabindex="-1" role="dialog" aria-labelledby="cssModalLabel" aria-hidden="true">
                                    <div class="modal-dialog modal-lg">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <button type="button" class="close" onclick="$('#cssgradientgeneratorcssoutmodal').modal('hide');" aria-hidden="true">&times;</button>
                                                <h4 class="modal-title">Generated CSS</h4>
                                            </div>
                                            <div class="modal-body">
                                                <div class="css-gradient-editor-cssoutput-container">
                                                    <pre class="css-gradient-editor-cssoutput"></pre>
                                                </div>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-default" onclick="$('#cssgradientgeneratorcssoutmodal').modal('hide');">Close</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal bs-modal-lg" id="exportallmodal" tabindex="-1" role="dialog" aria-labelledby="permalinkModalLabel" aria-hidden="true">
                                    <div class="modal-dialog modal-lg">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <button type="button" class="close" onclick="$('#exportallmodal').modal('hide');" aria-hidden="true">&times;</button>
                                                <h4 class="modal-title">Экспорт <small>сохраните в файл</small></h4>
                                            </div>
                                            <div class="modal-body">
                                                <textarea class="css-gradient-editor-textarea-exportall" readonly="readonly"></textarea>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-default" onclick="$('#exportallmodal').modal('hide');">Закрыть</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal bs-modal-lg" id="importmodal" tabindex="-1" role="dialog" aria-labelledby="permalinkModalLabel" aria-hidden="true">
                                    <div class="modal-dialog modal-lg">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <button type="button" class="close" onclick="$('#importmodal').modal('hide');" aria-hidden="true">&times;</button>
                                                <h4 class="modal-title">Импорт <small>вставьте сохраненные ранее данные в текстовое поле</small></h4>
                                            </div>
                                            <div class="modal-body">
                                                <textarea class="css-gradient-editor-textarea-import"></textarea>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-link loaddefaults">Загрузить стандартные</button>
                                                <button type="button" class="btn btn-default" data-dismiss="modal">Импорт</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--MODAL (config)-->
                                <div class="modal bs-modal-lg" id="cssgradientgeneratorconfigmodal" tabindex="-1" role="dialog" aria-labelledby="permalinkModalLabel" aria-hidden="true">
                                    <div class="modal-dialog modal-lg">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <button type="button" class="close" onclick="$('#cssgradientgeneratorconfigmodal').modal('hide');" aria-hidden="true">&times;</button>
                                                <h4 class="modal-title">Настройки</h4>
                                            </div>
                                            <div class="modal-body">
                                                <form class="form-horizontal" role="form">
                                                    <!--<div class="form-group">
                                                        <label class="col-xs-3 text-right">CSS selector:</label>
                                                        <div class="col-xs-2">
                                                            <input type="text" class="form-control" data-name="config_cssselector" name="config-cssselector" placeholder=".gradient">
                                                        </div>
                                                    </div>-->
                                                    <div class="form-group">
                                                        <label class="col-xs-3 text-right">Color format: </label>
                                                        <div class="col-xs-9 btn-group">
                                                            <button class="btn btn-default btn-sm css-gradient-editor-controller" data-control-group="config_colorformat" data-name="config_colorformat" data-value="rgb">rgb</button>
                                                            <button class="btn btn-default btn-sm css-gradient-editor-controller" data-control-group="config_colorformat" data-name="config_colorformat" data-value="hsl">hsl</button>
                                                            <button class="btn btn-default btn-sm css-gradient-editor-controller" data-control-group="config_colorformat" data-name="config_colorformat" data-value="hex">hex</button>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="col-xs-3 text-right">Color picker visible sliders: </label>
                                                        <div class="col-xs-9 btn-group">
                                                            <button class="btn btn-default btn-sm css-gradient-editor-controller" data-name="config_colorpicker_hsl">hsl</button>
                                                            <button class="btn btn-default btn-sm css-gradient-editor-controller" data-name="config_colorpicker_rgb">rgb</button>
                                                            <button class="btn btn-default btn-sm css-gradient-editor-controller" data-name="config_colorpicker_cie">cie</button>
                                                            <button class="btn btn-default btn-sm css-gradient-editor-controller" data-name="config_colorpicker_opacity">opacity</button>
                                                            <button class="btn btn-default btn-sm css-gradient-editor-controller" data-name="config_colorpicker_swatches">color swatches</button>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="col-xs-3 text-right">Mixed stop point units: </label>
                                                        <div class="col-xs-9 btn-group">
                                                            <button class="btn btn-default btn-sm css-gradient-editor-controller" data-control-group="config_mixedstoppointunits" data-name="config_mixedstoppointunits" data-value="enabled">enabled</button>
                                                            <button class="btn btn-default btn-sm css-gradient-editor-controller" data-control-group="config_mixedstoppointunits" data-name="config_mixedstoppointunits" data-value="disabled">disabled</button>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="col-xs-3 text-right">Code generation: </label>
                                                        <div class="col-xs-9 btn-group">
                                                            <button class="btn btn-default btn-sm css-gradient-editor-controller" data-name="config_generation_bgcolor" title="Weighted average background color fallback">bg color</button>
                                                            <button class="btn btn-default btn-sm css-gradient-editor-controller" data-name="config_generation_iefilter" title="IE 6-8">IE filter</button>
                                                            <button class="btn btn-default btn-sm css-gradient-editor-controller" data-name="config_generation_svg" title="IE 9, iOS 3.2-4.3, WP 7.5">SVG</button>
                                                            <button class="btn btn-default btn-sm css-gradient-editor-controller" data-name="config_generation_oldwebkit" title="SVG and SVG with old-webkit if justified (radial gradients only, and only needed for Android 2.3 and older where SVG is not supported but the SVG definition deletes the old webkit syntax if placed after that, which is needed for radial gradients because the `-webkit-gradient` syntax with radial shape lacks support for percentage-defined size)">old webkit</button>
                                                            <button class="btn btn-default btn-sm css-gradient-editor-controller" data-name="config_generation_webkit" title="Android 3.0+, iOS 5.0+ - but they supports SVG as well">newer webkit</button>
                                                            <button class="btn btn-default btn-sm css-gradient-editor-controller" data-name="config_generation_ms" title="IE10 consumer preview - there is really no need to use it">-ms</button>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="col-xs-3 text-right">Fallback width:</label>
                                                        <div class="col-xs-2">
                                                            <div class="input-group">
                                                                <input type="text" class="form-control" data-name="config_fallbackwidth" name="config-fallbackwidth">
                                                                <span class="input-group-addon">px</span>
                                                            </div>
                                                        </div>
                                                        <p class="help-block">Used in some circumstances with old webkit and SVG generation. Using preview size if not specified.</p>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="col-xs-3 text-right">Fallback height:</label>
                                                        <div class="col-xs-2">
                                                            <div class="input-group">
                                                                <input type="text" class="form-control" data-name="config_fallbackheight" name="config-fallbackheight">
                                                                <span class="input-group-addon">px</span>
                                                            </div>
                                                        </div>
                                                        <p class="help-block">Used in some circumstances with old webkit and SVG generation. Using preview size if not specified.</p>
                                                    </div>
                                                </form>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-default" onclick="$('#cssgradientgeneratorconfigmodal').modal('hide');">Закрыть</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>


                        </div>
                        <div class="row">
                            <div class="col-sm-8">
                            </div>
                            <div class="col-sm-4 btn-group">
                                <button type="button" onclick="submitCSSGradient()" class="btn btn-primary btn-block">ОК</button>
                                <button type="button" onclick="$('#gradientgeneratormodal').modal('hide');" class="btn btn-primary btn-block">Отмена</button>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script>


        $(document).ready(function () {

            //$('#mainmenumodal img').mouseleave(function () {
            //    $(this).attr('src', $(this).data('src').replace('~', ''));
            //});
            //$('#mainmenumodal img').mouseenter(function () {
            //    $(this).attr('src', $(this).data('src-hover').replace('~', ''));
            //});


            //$('#mainmenumodal .modal-dialog').on('click', function () {
            //    $('#mainmenumodal').modal('hide');
            //});


            $("#assignSettingsModal-copy-count").TouchSpin({
                min: 1,
                max: 500,
                step: 1,
                decimals: 0,
                boostat: 5,
                maxboostedstep: 10,
                //postfix: '%'
            });
        });

        function assignSettingsModalShowCopy() {
            $('#assignSettingsModalInner-main').hide();
            $('#assignSettingsModalInner-copy').show();
        }

        function assignSettingsModalShowMain() {
            $('#assignSettingsModalInner-main').show();
            $('#assignSettingsModalInner-copy').hide();
        }


        MVCxClientGlobalEvents.AddControlsInitializedEventHandler(InitalizejQuery);
        function InitalizejQuery() {

            $('.draggable').draggable({
                helper: 'clone',
                drag: function (event, ui) {
                    return isf || gridviewSortedColumnName == "DisplayIndex";
                },
                start: function (ev, ui) {
                    var $draggingElement = $(ui.helper);
                    $draggingElement.width(PriceListGridView.GetWidth());
                }
            });
            $('.draggable').droppable({
                //activeClass: "hover",
                //tolerance: "intersect",
                //hoverClass: "activeHover",
                drop: function (event, ui) {
                    var draggingSortIndex = ui.draggable.attr("displayIndex");
                    var targetSortIndex = $(this).attr("displayIndex");
                    PriceListGridView.PerformCallback(
                    {
                        draggingIndex: draggingSortIndex,
                        targetIndex: targetSortIndex,
                        command: "DRAGROW"
                    });
                }
            });

            $('.draggable1').draggable({
                helper: 'clone',

                start: function (ev, ui) {
                    var $draggingElement = $(ui.helper);
                    $draggingElement.width(CatalogItemPriceListGridView.GetWidth());
                }
            });
            $('.draggable1').droppable({
                //activeClass: "hover",
                //tolerance: "intersect",
                //hoverClass: "activeHover",
                drop: function (event, ui) {
                    var draggingSortIndex = ui.draggable.attr("displayIndex");
                    var targetSortIndex = $(this).attr("displayIndex");
                    CatalogItemPriceListGridView.PerformCallback(
                    {
                        draggingIndex: draggingSortIndex,
                        targetIndex: targetSortIndex,
                        command: "DRAGROW"
                    });
                }
            });

            $('.draggable2').draggable({
                helper: 'clone',

                start: function (ev, ui) {
                    var $draggingElement = $(ui.helper);
                    $draggingElement.width(SiteGroupPriceListGridView.GetWidth());
                }
            });
            $('.draggable2').droppable({
                //activeClass: "hover",
                //tolerance: "intersect",
                //hoverClass: "activeHover",
                drop: function (event, ui) {
                    var draggingSortIndex = ui.draggable.attr("displayIndex");
                    var targetSortIndex = $(this).attr("displayIndex");
                    SiteGroupPriceListGridView.PerformCallback(
                    {
                        draggingIndex: draggingSortIndex,
                        targetIndex: targetSortIndex,
                        command: "DRAGROW"
                    });
                }
            });

            $('.draggable3').draggable({
                helper: 'clone',

                start: function (ev, ui) {
                    var $draggingElement = $(ui.helper);
                    $draggingElement.width(SearchPropertyGridView.GetWidth());
                }
            });
            $('.draggable3').droppable({
                //activeClass: "hover",
                //tolerance: "intersect",
                //hoverClass: "activeHover",
                drop: function (event, ui) {
                    var draggingSortIndex = ui.draggable.attr("displayIndex");
                    var targetSortIndex = $(this).attr("displayIndex");
                    SearchPropertyGridView.PerformCallback(
                    {
                        draggingIndex: draggingSortIndex,
                        targetIndex: targetSortIndex,
                        command: "DRAGROW"
                    });
                }
            });

            $('.draggable-tag').draggable({
                helper: 'clone',

                start: function (ev, ui) {
                    var $draggingElement = $(ui.helper);
                    $draggingElement.width(TagGridView.GetWidth());
                }
            });
            $('.draggable-tag').droppable({
                //activeClass: "hover",
                //tolerance: "intersect",
                //hoverClass: "activeHover",
                drop: function (event, ui) {
                    var draggingSortIndex = ui.draggable.attr("displayIndex");
                    var targetSortIndex = $(this).attr("displayIndex");
                    TagGridView.PerformCallback(
                    {
                        draggingIndex: draggingSortIndex,
                        targetIndex: targetSortIndex,
                        command: "DRAGROW"
                    });
                }
            });

            $('.draggable-property').draggable({
                helper: 'clone',

                start: function (ev, ui) {
                    var $draggingElement = $(ui.helper);
                    $draggingElement.width(PropertyGridView.GetWidth());
                }
            });
            $('.draggable-property').droppable({
                //activeClass: "hover",
                //tolerance: "intersect",
                //hoverClass: "activeHover",
                drop: function (event, ui) {
                    var draggingSortIndex = ui.draggable.attr("displayIndex");
                    var targetSortIndex = $(this).attr("displayIndex");
                    PropertyGridView.PerformCallback(
                    {
                        draggingIndex: draggingSortIndex,
                        targetIndex: targetSortIndex,
                        command: "DRAGROW"
                    });
                }
            });
        }

        // versions
        var dynamicTableVersionForUniLine = $("#DynamicTableVersionIDForUniLine");
        dynamicTableVersionForUniLine.select2
            (
                {
                    multiple: false,
                    placeholder: 'выберите версию',
                    allowClear: false,
                    ajax: {
                        url: '@Url.Action(MVC.Projects.DynamicTables.GetDynamicTableVersions())',
                        dataType: 'json',
                        data: function (term, page) {
                            return {
                                id: term,
                                pageLimit: 10,
                                page: page,
                                tableID: currentDynamicTableID
                            };
                        },
                        results: function (data, page) {
                            var more = (page * 10) < data.count;
                            return { results: data.items, more: more };
                        }
                    },

                    initSelection: function (element, callback) {
                        var id = dynamicTableVersionForUniLine.val();

                        if (id !== null && id.length > 0) {
                            $.ajax('@Url.Action(MVC.Projects.DynamicTables.GetDynamicTableVersion())' + '/' + id, {
                                dataType: "json"
                            }).done(function (data) {
                                callback(data[0]);
                            });
                        }
                    },
                    formatResult: s2FormatResult,
                    formatSelection: s2FormatSelection
                }
            );

        dynamicTableVersionForUniLine.on("change", function (ev) {
            DESelectorGridView.callbackUrl = "@Url.Action(MVC.Projects.DynamicTables.DynamicEntitySelectorGridViewPartial())?dynamicTableID=" + currentDynamicTableID + "&dynamicTableVersionID=" + dynamicTableVersionForUniLine.val();
            DESelectorGridView.PerformCallback();
        });
    </script>

